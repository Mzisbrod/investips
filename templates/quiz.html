{% extends "layout_sidebar.html" %}
{% block content %}
<div class="center">
    <h1>{{ content.title }}</h1>
    <form id="quizForm" action="{{ url_for('submit_quiz', quiz_name=content.title) }}" method="post">
        {% for question in content.questions %}
        <div class="question">
            <p>{{ question.question_text }}</p>
            {% for option in question.options %}
            <div>
                <!-- Update IDs and names to use only the outer loop's index for uniqueness -->
                <input type="radio" id="answer_{{ loop.index0 }}" name="selected_answer{{ loop.index0 }}" value="{{ option }}">
                <label for="answer_{{ loop.index0 }}">{{ option }}</label>
            </div>
            {% endfor %}
        </div>
        {% endfor %}
        <button type="submit" class="btn btn-primary">Submit All Answers</button>
    </form>
    <!-- Navigation and results links, similar to before -->
    <div class="text-right">
        {% if content.next == "Final Quiz" %}
            <a href="{{ url_for('results') }}" class="btn btn-outline-secondary">See results > <i class="fas fa-arrow-right"></i></a>
        {% else %}
            <a href="{{ url_for('class_info', class_name=content.prev) }}" class="btn btn-outline-secondary">
                < {{ content.prev | capitalize }} <i class="fas fa-arrow-right"></i>
            </a>
            <a href="{{ url_for('class_info', class_name=content.next) }}" class="btn btn-outline-secondary">
                {{ content.next | capitalize }} ><i class="fas fa-arrow-right"></i>
            </a>
        {% endif %}
    </div>
</div>
<br>
{% endblock %}
